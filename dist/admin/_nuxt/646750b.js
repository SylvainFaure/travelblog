(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{470:function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function l(){return(l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function c(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)e.indexOf(r=o[n])>=0||(i[r]=t[r]);return i}function u(t){return 1==(null!=(e=t)&&"object"==typeof e&&!1===Array.isArray(e))&&"[object Object]"===Object.prototype.toString.call(t);var e}var a=Object.prototype,f=a.toString,d=a.hasOwnProperty,v=/^\s*function (\w+)/;function s(t){var e,r=null!==(e=null==t?void 0:t.type)&&void 0!==e?e:t;if(r){var n=r.toString().match(v);return n?n[1]:""}return""}var y=function(t){var e,r;return!1!==u(t)&&"function"==typeof(e=t.constructor)&&!1!==u(r=e.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf")},p=function(t){return t},h=function(t,e){return d.call(t,e)},b=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},g=Array.isArray||function(t){return"[object Array]"===f.call(t)},_=function(t){return"[object Function]"===f.call(t)},m=function(t){return y(t)&&h(t,"_vueTypes_name")},O=function(t){return y(t)&&(h(t,"type")||["_vueTypes_name","validator","default","required"].some((function(e){return h(t,e)})))};function j(t,e){return Object.defineProperty(t.bind(e),"__original",{value:t})}function w(t,e,r){var n;void 0===r&&(r=!1);var i=!0,o="";n=y(t)?t:{type:t};var u=m(n)?n._vueTypes_name+" - ":"";if(O(n)&&null!==n.type){if(void 0===n.type)return i;if(!n.required&&void 0===e)return i;void 0===n.type?o="any":g(n.type)?(i=n.type.some((function(t){return!0===w(t,e,!0)})),o=n.type.map((function(t){return s(t)})).join(" or ")):i="Array"===(o=s(n))?g(e):"Object"===o?y(e):"String"===o||"Number"===o||"Boolean"===o||"Function"===o?function(t){if(null==t)return"";var e=t.constructor.toString().match(v);return e?e[1]:""}(e)===o:e instanceof n.type}if(!i){var a=u+'value "'+e+'" should be of type "'+o+'"';return!1===r?(p(a),!1):a}if(h(n,"validator")&&_(n.validator)){var l=p,c=[];if(p=function(t){c.push(t)},i=n.validator(e),p=l,!i){var f=(c.length>1?"* ":"")+c.join("\n* ");return c.length=0,!1===r?(p(f),i):f}}return i}function T(t,e){var r=Object.defineProperties(e,{_vueTypes_name:{value:t,writable:!0},isRequired:{get:function(){return this.required=!0,this}},def:{value:function(t){return void 0===t?(h(this,"default")&&delete this.default,this):_(t)||!0===w(this,t,!0)?(this.default=g(t)?function(){return[].concat(t)}:y(t)?function(){return Object.assign({},t)}:t,this):(p(this._vueTypes_name+' - invalid default value: "'+t+'"'),this)}}}),n=r.validator;return _(n)&&(r.validator=j(n,r)),r}function A(t,e){var r=T(t,e);return Object.defineProperty(r,"validate",{value:function(t){return _(this.validator)&&p(this._vueTypes_name+" - calling .validate() will overwrite the current custom validator function. Validator info:\n"+JSON.stringify(this)),this.validator=j(t,this),this}})}function k(t,e,r){var n,i,u=(n=e,i={},Object.getOwnPropertyNames(n).forEach((function(t){i[t]=Object.getOwnPropertyDescriptor(n,t)})),Object.defineProperties({},i));if(u._vueTypes_name=t,!y(r))return u;var a,o,l=r.validator,f=c(r,["validator"]);if(_(l)){var s=u.validator;s&&(s=null!==(o=(a=s).__original)&&void 0!==o?o:a),u.validator=j(s?function(t){return s.call(this,t)&&l.call(this,t)}:l,u)}return Object.assign(u,f)}function x(t){return t.replace(/^(?!\s*$)/gm,"  ")}var P=function(){function t(){}return t.extend=function(t){var e=this;if(g(t))return t.forEach((function(t){return e.extend(t)})),this;var r=t.name,n=t.validate,i=void 0!==n&&n,u=t.getter,a=void 0!==u&&u,o=c(t,["name","validate","getter"]);if(h(this,r))throw new TypeError('[VueTypes error]: Type "'+r+'" already defined');var l,f=o.type;return m(f)?(delete o.type,Object.defineProperty(this,r,a?{get:function(){return k(r,f,o)}}:{value:function(){var t,e=k(r,f,o);return e.validator&&(e.validator=(t=e.validator).bind.apply(t,[e].concat([].slice.call(arguments)))),e}})):(l=a?{get:function(){var t=Object.assign({},o);return i?A(r,t):T(r,t)},enumerable:!0}:{value:function(){var t,e,n=Object.assign({},o);return t=i?A(r,n):T(r,n),n.validator&&(t.validator=(e=n.validator).bind.apply(e,[t].concat([].slice.call(arguments)))),t},enumerable:!0},Object.defineProperty(this,r,l))},o(t,null,[{key:"any",get:function(){return A("any",{})}},{key:"func",get:function(){return A("function",{type:Function}).def(this.defaults.func)}},{key:"bool",get:function(){return A("boolean",{type:Boolean}).def(this.defaults.bool)}},{key:"string",get:function(){return A("string",{type:String}).def(this.defaults.string)}},{key:"number",get:function(){return A("number",{type:Number}).def(this.defaults.number)}},{key:"array",get:function(){return A("array",{type:Array}).def(this.defaults.array)}},{key:"object",get:function(){return A("object",{type:Object}).def(this.defaults.object)}},{key:"integer",get:function(){return T("integer",{type:Number,validator:function(t){return b(t)}}).def(this.defaults.integer)}},{key:"symbol",get:function(){return T("symbol",{validator:function(t){return"symbol"==typeof t}})}}]),t}();P.defaults={},P.custom=function(t,e){if(void 0===e&&(e="custom validation failed"),"function"!=typeof t)throw new TypeError("[VueTypes error]: You must provide a function as argument");return T(t.name||"<<anonymous function>>",{validator:function(r){var n=t(r);return n||p(this._vueTypes_name+" - "+e),n}})},P.oneOf=function(t){if(!g(t))throw new TypeError("[VueTypes error]: You must provide an array as argument.");var e='oneOf - value should be one of "'+t.join('", "')+'".',r=t.reduce((function(t,e){if(null!=e){var r=e.constructor;-1===t.indexOf(r)&&t.push(r)}return t}),[]);return T("oneOf",{type:r.length>0?r:void 0,validator:function(r){var n=-1!==t.indexOf(r);return n||p(e),n}})},P.instanceOf=function(t){return T("instanceOf",{type:t})},P.oneOfType=function(t){if(!g(t))throw new TypeError("[VueTypes error]: You must provide an array as argument");for(var e=!1,r=[],n=0;n<t.length;n+=1){var i=t[n];if(O(i)){if(m(i)&&"oneOf"===i._vueTypes_name){r=r.concat(i.type||[]);continue}if(_(i.validator)&&(e=!0),void 0!==i.type){r=r.concat(i.type);continue}}r.push(i)}return r=r.filter((function(t,e){return r.indexOf(t)===e})),T("oneOfType",e?{type:r,validator:function(e){var r=[],n=t.some((function(t){var n=w(m(t)&&"oneOf"===t._vueTypes_name?t.type||null:t,e,!0);return"string"==typeof n&&r.push(n),!0===n}));return n||p("oneOfType - provided value does not match any of the "+r.length+" passed-in validators:\n"+x(r.join("\n"))),n}}:{type:r})},P.arrayOf=function(t){return T("arrayOf",{type:Array,validator:function(e){var r,n=e.every((function(e){return!0===(r=w(t,e,!0))}));return n||p("arrayOf - value validation error:\n"+x(r)),n}})},P.objectOf=function(t){return T("objectOf",{type:Object,validator:function(e){var r,n=Object.keys(e).every((function(n){return!0===(r=w(t,e[n],!0))}));return n||p("objectOf - value validation error:\n"+x(r)),n}})},P.shape=function(t){var e=Object.keys(t),r=e.filter((function(e){var r;return!!(null===(r=t[e])||void 0===r?void 0:r.required)})),n=T("shape",{type:Object,validator:function(n){var i=this;if(!y(n))return!1;var o=Object.keys(n);if(r.length>0&&r.some((function(t){return-1===o.indexOf(t)}))){var u=r.filter((function(t){return-1===o.indexOf(t)}));return p(1===u.length?'shape - required property "'+u[0]+'" is not defined.':'shape - required properties "'+u.join('", "')+'" are not defined.'),!1}return o.every((function(r){if(-1===e.indexOf(r))return!0===i._vueTypes_isLoose||(p('shape - shape definition does not include a "'+r+'" property. Allowed keys: "'+e.join('", "')+'".'),!1);var o=w(t[r],n[r],!0);return"string"==typeof o&&p('shape - "'+r+'" property validation error:\n '+x(o)),!0===o}))}});return Object.defineProperty(n,"_vueTypes_isLoose",{writable:!0,value:!1}),Object.defineProperty(n,"loose",{get:function(){return this._vueTypes_isLoose=!0,this}}),n},P.utils={validate:function(t,e){return!0===w(e,t,!0)},toType:function(t,e,r){return void 0===r&&(r=!1),r?A(t,e):T(t,e)}};var C=function(t){function e(){return t.apply(this,arguments)||this}return i(e,t),e}(function(t){var e;return void 0===t&&(t={func:function(){},bool:!0,string:"",number:0,array:function(){return[]},object:function(){return{}},integer:0}),(e=function(e){function r(){return e.apply(this,arguments)||this}return i(r,e),o(r,null,[{key:"sensibleDefaults",get:function(){return l({},this.defaults)},set:function(e){this.defaults=!1!==e?l({},!0!==e?e:t):{}}}]),r}(P)).defaults=l({},t),e}());e.a=C},561:function(t,e,r){"use strict";r.r(e);r(11),r(20),r(30);var n=r(470),o=r(525),l={components:{draggable:r.n(o).a},props:{assets:n.a.array.def([]),travels:n.a.array.def([]),articles:n.a.array.def([])},data:function(){var t=this.$i18n.locale;return{locale:t,otherLocale:"fr"===t?"it":"fr",mounted:!1,assetsByTravel:{},filteredAssets:[],modifiedAssetsIds:{}}},mounted:function(){var t=this;this.locale=this.$i18n.locale,this.travels.forEach((function(e){t.$set(t.assetsByTravel,e.travel_id,t.assets.filter((function(t){return t.asset_travel_id===e.travel_id})))})),this.filteredAssets=this.assets.filter((function(t){return!t.asset_travel_id})),this.mounted=!0},methods:{handleAssetChange:function(t,e){if(t.added){var r=t.added.element;this.modifiedAssetsIds[r.asset_id]={past:r.asset_travel_id,present:e}}},getModifiedAssets:function(){return this.modifiedAssetsIds}}},c=r(36),component=Object(c.a)(l,(function(){var t=this,e=t._self._c;return t.mounted?e("div",{staticClass:"flex"},[e("div",{staticClass:"assets-list w-1/3 p-4"},[e("h3",[t._v(t._s(t.$t("assets.non_associated")))]),t._v(" "),e("draggable",{class:{"flex flex-wrap py-8":!!t.filteredAssets.length},attrs:{list:t.filteredAssets,group:{name:"assets",pull:!0,put:!0}},on:{change:t.handleAssetChange}},t._l(t.filteredAssets,(function(t){return e("div",{key:"asset-".concat(t.asset_id),staticClass:"draggable-asset__container mr-2 mb-2"},[e("img",{staticClass:"w-24",attrs:{src:t.asset_src}})])})),0),t._v(" "),t.filteredAssets.length?t._e():e("div",{staticClass:"my-4 text-xs"},[t._v(t._s(t.$t("assets.non_associated_empty")))])],1),t._v(" "),e("div",{staticClass:"travels-list w-2/3 bg-gray-200 p-4 h-3/4 overflow-y-scroll"},t._l(t.travels,(function(r){return e("div",{key:"travel-".concat(r.travel_id)},[e("h3",{class:r["travel_title_".concat(t.locale)]?"":"italic text-gray-500"},[t._v("\n        "+t._s(r["travel_title_".concat(t.locale)]?r["travel_title_".concat(t.locale)]:r["travel_title_".concat(t.otherLocale)])+"\n      ")]),t._v(" "),e("draggable",{class:{"flex flex-wrap py-4":!!t.assetsByTravel[r.travel_id].length},attrs:{list:t.assetsByTravel[r.travel_id],group:{name:"assets",pull:!0,put:!0}},on:{change:function(e){return t.handleAssetChange(e,r.travel_id)}}},t._l(t.assetsByTravel[r.travel_id],(function(t){return e("div",{key:"asset-travel-".concat(t.asset_id)},[e("img",{staticClass:"w-24 mr-2 mb-2",attrs:{src:t.asset_src}})])})),0),t._v(" "),t.assetsByTravel[r.travel_id].length?t._e():e("div",{staticClass:"my-4 text-xs"},[t._v(t._s(t.$t("assets.travel_empty")))])],1)})),0)]):t._e()}),[],!1,null,null,null);e.default=component.exports}}]);