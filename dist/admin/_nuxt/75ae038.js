(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{290:function(t,e,n){var content=n(301);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(81).default)("bea56e00",content,!0,{sourceMap:!1})},291:function(t,e,n){var content=n(303);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(81).default)("79585b24",content,!0,{sourceMap:!1})},293:function(t,e,n){"use strict";n.r(e);n(19),n(31),n(17),n(48),n(46),n(47),n(32),n(18),n(27);var r=n(4),o=n(13),c=n(283),l=n(26);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h={props:{id:c.a.string.def("new-block"),type:c.a.string.def("paragraph"),content:c.a.any.def(null),edit:c.a.bool.def(!1),assets:c.a.array.def([])},data:function(){return{model:{image:null,playlist:""}}},computed:f({},Object(l.c)("modal",["modalId"])),methods:f(f({},Object(l.b)("modal",["setVisible","setModalId"])),{},{getTools:function(t){return"map-description"===t?["map"]:"anecdotes"===t?["anecdote"]:[]},selectImage:function(){this.setModalId("editor-asset"),this.setVisible(!0)},handleConfirm:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var content;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(content="",["image","playlist"].includes(t.type)){e.next=7;break}return e.next=4,t.$refs.textEditor.saveContent();case 4:content=e.sent,e.next=8;break;case 7:"image"===t.type?content={content:{name:t.model[t.type].asset_name,originalAsset:t.model[t.type],src:t.model[t.type].asset_src}}:"playlist"===t.type&&(content={content:t.model[t.type]});case 8:t.$emit("confirm",t.type,content,t.id);case 9:case"end":return e.stop()}}),e)})))()},handleCancel:function(){this.$emit("cancel")}})},m=n(23),component=Object(m.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"my-2"},["image"===t.type?n("div",[n("div",{staticClass:"h-full flex justify-center"},[t.edit||t.model.image?n("img",{staticClass:"h-48",attrs:{src:t.model.image?t.model.image.asset_src:t.content.src}}):t._e(),t._v(" "),n("div",{class:{"h-full flex items-center ml-4":t.edit||t.model.image,"flex justify-center":!t.edit}},[n("Btn",{attrs:{"icon-btn":"",icon:"pencil"},on:{click:t.selectImage}})],1)])]):"playlist"===t.type?n("div",[n("InputText",{attrs:{value:t.edit?t.content:""},model:{value:t.model.playlist,callback:function(e){t.$set(t.model,"playlist",e)},expression:"model.playlist"}})],1):n("div",[n("TextEditor",{ref:"textEditor",attrs:{name:"block-editor-comp-"+t.type,data:t.edit?t.content:null,tools:t.getTools(t.type)}})],1),t._v(" "),n("div",{staticClass:"flex justify-center my-2"},[n("Btn",{attrs:{label:t.$t("general.confirm")},on:{click:t.handleConfirm}}),t._v(" "),n("Btn",{attrs:{label:t.$t("general.cancel"),type:"secondary"},on:{click:t.handleCancel}})],1),t._v(" "),"editor-asset"===t.modalId?n("AssetsModal",{attrs:{assets:t.assets,picked:t.edit?t.content.originalAsset:null},on:{confirm:function(e){t.model.image=e}}}):t._e()],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Btn:n(284).default,InputText:n(288).default,TextEditor:n(304).default,AssetsModal:n(294).default})},294:function(t,e,n){"use strict";n.r(e);n(19),n(31),n(17),n(46),n(47),n(32),n(18);var r=n(13),o=n(283),c=n(26);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var f={props:{assets:o.a.array.def([]),picked:o.a.oneOfType([o.a.object,o.a.array]).def(null),pick:o.a.string.def("one"),pickLimit:o.a.number.def(null)},data:function(){return{pickedImage:null,pickedImages:[]}},mounted:function(){this.picked&&("one"===this.pick?this.pickedImage=this.picked:"multiple"===this.pick&&(this.pickedImages=this.picked))},methods:d(d({},Object(c.b)("modal",["setVisible","setModalId"])),{},{handlePick:function(image){this.pickedImage=image},handlePicks:function(t,e,n){"add"===n?this.pickedImages.push(e):this.pickedImages=this.pickedImages.filter((function(a){return a.asset_id!==e.asset_id}))},handleConfirm:function(){var t="one"===this.pick?this.pickedImage:this.pickedImages;this.$emit("confirm",t),this.setModalId(null),this.setVisible(!1)},handleCancel:function(){this.setModalId(null),this.setVisible(!1)}})},h=n(23),component=Object(h.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("portal",{attrs:{to:"modal"}},[n("div",{staticClass:"relative h-full"},["one"===t.pick&&t.pickedImage?n("div",{staticClass:"m-8"},[n("img",{staticClass:"h-48",attrs:{src:t.pickedImage.asset_src}})]):"multiple"===t.pick&&t.pickedImages?n("div",{staticClass:"m-8 flex flex-wrap"},t._l(t.pickedImages,(function(img){return n("div",{key:img.asset_id,staticClass:"mr-4"},[n("img",{staticClass:"h-32 m-2",attrs:{src:img.asset_src}})])})),0):t._e(),t._v(" "),n("AssetPickerLibrary",{attrs:{assets:t.assets,picked:t.picked,pick:t.pick,"pick-limit":t.pickLimit},on:{pick:t.handlePick,picks:t.handlePicks}}),t._v(" "),n("div",{staticClass:"sticky bottom-0 w-full translate-x-0 p-2 bg-white border-t-2 border-gray-500"},[n("div",{staticClass:"flex justify-end"},[n("Btn",{attrs:{label:t.$t("general.confirm")},on:{click:t.handleConfirm}}),t._v(" "),n("Btn",{attrs:{label:t.$t("general.cancel"),type:"secondary"},on:{click:t.handleCancel}})],1)])],1)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{AssetPickerLibrary:n(309).default,Btn:n(284).default})},296:function(t,e,n){var content=n(322);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(81).default)("55317c29",content,!0,{sourceMap:!1})},300:function(t,e,n){"use strict";var r=n(290);n.n(r).a},301:function(t,e,n){(e=n(80)(!1)).push([t.i,"[id^=editor]{width:100%;min-width:50vw;padding:20px;border:1px solid #d3d3d3;min-height:200px}",""]),t.exports=e},302:function(t,e,n){"use strict";var r=n(291);n.n(r).a},303:function(t,e,n){(e=n(80)(!1)).push([t.i,"#map{height:100%;min-height:400px}#infowindow-content .title{font-weight:700}#infowindow-content{display:none}#map #infowindow-content{display:inline}",""]),t.exports=e},304:function(t,e,n){"use strict";n.r(e);n(19),n(60),n(31),n(17),n(53),n(20),n(46),n(47),n(32),n(18),n(27);var r=n(4),o=n(134),c=n(13),l=n(283),d=n(26),f=n(312),h=n.n(f),m=n(313),v=n.n(m),_=(n(38),n(48),n(133),n(56),n(33),n(83),n(298)),y=n(299),O=function(){function t(e){var n=e.api;e.config;Object(_.a)(this,t),this.api=n,this.store=window.$nuxt.$store,this.button=null,this._state=!1,this.address=void 0,this.input=null,this.mapInitialized=!1,this.tag="SPAN",this.class="map-point"}return Object(y.a)(t,[{key:"state",get:function(){return this._state},set:function(t){this._state=t,this.button.classList.toggle(this.api.styles.inlineToolButtonActive,t)}}],[{key:"isInline",get:function(){return!0}},{key:"sanitize",get:function(){return{span:!0}}}]),Object(y.a)(t,[{key:"render",value:function(){return this.button=document.createElement("button"),this.button.type="button",this.button.innerHTML='<svg class="fill-current w-4 h-4 icon cursor-pointer">\n                              <use xlink:href="#icon-location"></use>\n                            </svg>',this.button}},{key:"surround",value:function(t){this.state?this.unwrap(t):this.wrap(t)}},{key:"wrap",value:function(t){var e=t.extractContents(),n=document.createElement(this.tag),r=Math.floor(1e4*Math.random());n.classList.add(this.class),n.setAttribute("id","map-point-".concat(r)),n.appendChild(e),t.insertNode(n),this.api.selection.expandToTag(n)}},{key:"unwrap",value:function(t){var e=this.api.selection.findParentTag(this.tag,this.class),text=t.extractContents();e.remove(),t.insertNode(text)}},{key:"checkState",value:function(){var t=this.api.selection.findParentTag(this.tag);this.state=t&&Array.from(t.classList).includes("map-point"),this.mapPointId=t&&t.getAttribute("id"),this.state?this.showActions():this.hideActions()}},{key:"renderActions",value:function(){return this.anecdotePicker=document.createElement("input"),this.anecdotePicker.type="text",this.anecdotePicker.value="",this.anecdotePicker.hidden=!0,this.anecdotePicker}},{key:"showActions",value:function(){var t=this;console.log("show action",this.mapPointId),this.store.commit("modal/setVisible",!0),this.store.commit("modal/setModalId","map-point"),setTimeout((function(){t.mapInitialized||t.initMap(),document.querySelector(".confirm-map-point").addEventListener("click",(function(e){if(t.address){var n=t.address,address=n.address,r=n.lat,o=n.lng,c=document.querySelector("#".concat(t.mapPointId));c.getAttribute("data-address")||(c.setAttribute("data-address",address),c.setAttribute("data-lat",r),c.setAttribute("data-lng",o)),t.address=null,t.input.value="",t.store.commit("modal/setVisible",!1),t.store.commit("modal/setModalId",null),t.mapPoint=null,t.mapPointId=null}}))}))}},{key:"initMap",value:function(){var t=this,map=new window.google.maps.Map(document.getElementById("map"),{center:{lat:-33.8688,lng:151.2195},zoom:13});this.mapInitialized=!0,this.input=document.getElementById("pac-input");var e=new window.google.maps.places.Autocomplete(this.input);e.bindTo("bounds",map),e.setFields(["address_components","geometry","icon","name"]);var n=new window.google.maps.InfoWindow,r=document.getElementById("infowindow-content");n.setContent(r);var marker=new window.google.maps.Marker({map:map,anchorPoint:new window.google.maps.Point(0,-29)});e.addListener("place_changed",(function(){n.close(),marker.setVisible(!1);var o=e.getPlace();if(o.geometry){o.geometry.viewport?map.fitBounds(o.geometry.viewport):(map.setCenter(o.geometry.location),map.setZoom(17)),marker.setPosition(o.geometry.location),marker.setVisible(!0);var c=o.geometry.location.lat(),l=o.geometry.location.lng(),address="";o.address_components&&(address=[o.address_components[0]&&o.address_components[0].short_name||"",o.address_components[1]&&o.address_components[1].short_name||"",o.address_components[2]&&o.address_components[2].short_name||""].join(" ")),r&&(r.children["place-icon"].src=o.icon,r.children["place-name"].textContent=o.name,r.children["place-address"].textContent=address),n.open(map,marker),t.address={address:address,lat:c,lng:l}}else window.alert("No details available for input: '"+o.name+"'")}))}},{key:"hideActions",value:function(){}}]),t}(),k=function(){function t(e){var n=e.api;e.config;Object(_.a)(this,t),this.store=window.$nuxt.$store,this.api=n,this.button=null,this._state=!1,this.tag="SPAN",this.class="anecdote"}return Object(y.a)(t,[{key:"state",get:function(){return this._state},set:function(t){this._state=t,this.button.classList.toggle(this.api.styles.inlineToolButtonActive,t)}}],[{key:"isInline",get:function(){return!0}},{key:"sanitize",get:function(){return{span:!0}}}]),Object(y.a)(t,[{key:"render",value:function(){return this.button=document.createElement("button"),this.button.type="button",this.button.innerHTML=' <svg class="fill-current w-4 h-4 icon cursor-pointer">\n                                <use xlink:href="#icon-file-empty"></use>\n                              </svg>',this.button}},{key:"surround",value:function(t){this.state?this.unwrap(t):this.wrap(t)}},{key:"wrap",value:function(t){var e=t.extractContents(),n=document.createElement(this.tag);n.classList.add(this.class),n.appendChild(e),t.insertNode(n),this.api.selection.expandToTag(n)}},{key:"unwrap",value:function(t){var e=this.api.selection.findParentTag(this.tag,this.class),text=t.extractContents();e.remove(),t.insertNode(text)}},{key:"checkState",value:function(){var t=this.api.selection.findParentTag(this.tag);this.state=t&&Array.from(t.classList).includes("anecdote"),this.state?this.showActions(t):this.hideActions()}},{key:"renderActions",value:function(){return this.anecdotePicker=document.createElement("input"),this.anecdotePicker.type="text",this.anecdotePicker.value="",this.anecdotePicker.hidden=!0,this.anecdotePicker}},{key:"showActions",value:function(t){var e=this;this.store.commit("modal/setVisible",!0),this.store.commit("modal/setModalId","anecdote"),setTimeout((function(){document.querySelector(".confirm-anecdote").addEventListener("click",(function(n){var r=e.store.state.editor.value;t.classList.add("anecdote-".concat(r.anecdote_id)),t.setAttribute("data-title",r.anecdote_title),e.store.commit("modal/setVisible",!1),e.store.commit("modal/setModalId",null)}))}))}},{key:"hideActions",value:function(){}}]),t}(),j=function(t){var e={paragraph:"p"};return t.blocks.map((function(t){var n=document.createElement(e[t.type]);return n.innerHTML=t.data.text,n.outerHTML})).join("")};function w(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var x={props:{name:l.a.string.def("editor"),data:l.a.object.def({}),tools:l.a.array.def([])},data:function(){return{editor:null,saveTrigger:!1,toolsMap:{list:v.a,map:{class:O,inlineToolbar:!0,config:{}},anecdote:{class:k,inlineToolbar:!0}}}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?w(Object(source),!0).forEach((function(e){Object(c.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):w(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(d.c)("modal",["modalId"])),watch:{saveTrigger:function(t,e){t!==e&&this.saveContent()}},mounted:function(){this.editor=new h.a({holder:"editor-".concat(this.name),tools:this.getTools(),data:this.data})},methods:{getTools:function(){var t=this,e={};return[].concat(Object(o.a)(this.tools),["list"]).map((function(n){e[n]=t.toolsMap[n]})),e},saveContent:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,content;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.editor.save();case 2:return n=e.sent,content=j(n),t.$emit("save",{content:content,rawContent:n}),e.abrupt("return",{content:content,rawContent:n});case 6:case"end":return e.stop()}}),e)})))()}}},P=(n(300),n(23)),component=Object(P.a)(x,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{attrs:{id:"editor-"+this.name}}),this._v(" "),"anecdote"===this.modalId?e("AnecdoteModal"):this._e(),this._v(" "),"map-point"===this.modalId?e("MapPointModal"):this._e()],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{AnecdoteModal:n(307).default,MapPointModal:n(308).default})},305:function(t,e,n){"use strict";n.r(e);n(19),n(60),n(31),n(82),n(17),n(53),n(46),n(47),n(32),n(18);var r=n(13),o=n(134),c=n(283);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var f={props:{label:c.a.string.def(""),blocks:c.a.array.def([]),addons:c.a.array.def(null),assets:c.a.array.def([])},data:function(){var t=this.addons.map((function(t){return"map-description"===t&&(t={key:"map-description",label:"Description avec carte",icon:"map"}),"anecdote"===t&&(t={key:"anecdote",label:"Description avec anecdotes",icon:"file-empty"}),t}));return{orderedBlocks:[],activeAction:null,actions:[].concat([{key:"paragraph",label:"Paragraphe",icon:"paragraph-left"},{key:"subtitle",label:"Sous-titre",icon:"pilcrow"},{key:"image",label:"Image",icon:"image"},{key:"catch",label:"Phrase d'accroche",icon:"bold"},{key:"playlist",label:"Playlist",icon:"spotify"}],Object(o.a)(t))}},mounted:function(){this.orderedBlocks=this.blocks?this.blocks.sort((function(a,b){return a.position-b.position})):[]},methods:{confirmModification:function(t,content,e){"new-block"===e?(console.log("new block",t,content),this.createNewBlock(t,content),this.activeAction=null):this.orderedBlocks=this.orderedBlocks.map((function(n){return n.id===e&&("image"===t?n.content=content.content:n=d(d({},n),content)),n}))},createNewBlock:function(t,content){var e=Math.floor(1e3*Math.random()),component=d({id:"".concat(t,"-").concat(e),type:t,position:this.orderedBlocks.length},content);this.orderedBlocks.push(component)},handleOrder:function(t,e){var n=this.orderedBlocks.find((function(t){return t.id===e}));if("up"===t&&n.position>0){var r=this.orderedBlocks.find((function(t){return t.position===n.position-1})).id;this.orderedBlocks=this.orderedBlocks.map((function(b){return b.id===e?b.position-=1:b.id===r&&(b.position+=1),b})).sort((function(a,b){return a.position-b.position}))}else if("down"===t&&n.position<this.orderedBlocks.length-1){var o=this.orderedBlocks.find((function(t){return t.position===n.position+1})).id;this.orderedBlocks=this.orderedBlocks.map((function(b){return b.id===e?b.position+=1:b.id===o&&(b.position-=1),b})).sort((function(a,b){return a.position-b.position}))}},handleRemove:function(t){var e=this.orderedBlocks.find((function(b){return b.id===t}));this.orderedBlocks=this.orderedBlocks.map((function(b){return b.position>e.position&&(b.position-=1),b})).filter((function(b){return b.id!==t}))},getBlocks:function(){return this.orderedBlocks}}},h=n(23),component=Object(h.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mt-16"},[t.label?n("h4",{staticClass:"label font-bold my-4"},[n("span",{staticClass:"bg-white z-10 pr-6"},[t._v(t._s(t.label))])]):t._e(),t._v(" "),n("div",{staticClass:"flex justify-center flex-wrap mb-4"},t._l(t.actions,(function(e){return n("div",{key:e.key,staticClass:"border-2 border-black w-24 h-24 rounded-full flex flex-col items-center justify-center text-sm font-bold cursor-pointer text-center p-4 m-2",on:{click:function(n){t.activeAction=e.key}}},[n("p",[t._v(t._s(e.label))]),t._v(" "),n("div",[n("Icon",{attrs:{name:e.icon}})],1)])})),0),t._v(" "),t.activeAction?n("div",{staticClass:"my-4"},[n("BlockEditorComp",{attrs:{type:t.activeAction,assets:t.assets},on:{confirm:t.confirmModification,cancel:function(e){t.activeAction=null}}})],1):t._e(),t._v(" "),n("div",{staticClass:"my-4"},t._l(t.orderedBlocks,(function(e,i){return n("BlockPreview",t._b({key:e.type+"-"+i+"-"+e.position,on:{up:function(e){return t.handleOrder("up",e)},down:function(e){return t.handleOrder("down",e)},remove:t.handleRemove,confirm:t.confirmModification}},"BlockPreview",e,!1))})),1)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Icon:n(286).default,BlockEditorComp:n(293).default,BlockPreview:n(306).default})},306:function(t,e,n){"use strict";n.r(e);var r=n(283),o={props:{id:r.a.string.def("block"),position:r.a.number.def(0),type:r.a.string.def(null),content:r.a.any.def(null),rawContent:r.a.object.def({})},data:function(){return{isEditing:!1,actions:[{key:"edit",icon:"pencil"},{key:"remove",icon:"cross"},{key:"up",icon:"arrow-up2"},{key:"down",icon:"arrow-down2"}]}},methods:{handleAction:function(t){this.$emit(t.key,this.id),"edit"===t.key&&(this.isEditing=!0)},confirmModification:function(t,content,e){this.$emit("confirm",t,content,e),this.isEditing=!1}}},c=n(23),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.isEditing?n("div",[n("hr"),t._v(" "),n("BlockEditorComp",{attrs:{id:t.id,edit:"",type:t.type,content:["image","playlist"].includes(t.type)?t.content:t.rawContent},on:{confirm:t.confirmModification,cancel:function(e){t.isEditing=!1}}})],1):n("div",[n("hr"),t._v(" "),n("div",{staticClass:"my-4"},[n("div",{staticClass:"flex justify-between mb-2"},[n("p",{staticClass:"uppercase"},[t._v(t._s(t.type))]),t._v(" "),n("div",{staticClass:"flex"},t._l(t.actions,(function(e){return n("div",{key:e.key,staticClass:"rounded-full w-8 h-8 mx-1 flex justify-center items-center cursor-pointer border-2 border-black",on:{click:function(n){return t.handleAction(e)}}},[n("Icon",{attrs:{name:e.icon}})],1)})),0)]),t._v(" "),"image"===t.type?n("div",[n("img",{staticClass:"h-48",attrs:{src:t.content.src}})]):n("p",{domProps:{innerHTML:t._s(t.content)}})])])])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Icon:n(286).default,BlockEditorComp:n(293).default})},307:function(t,e,n){"use strict";n.r(e);n(19),n(31),n(17),n(46),n(47),n(32),n(18);var r=n(13),o=n(26);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var d={data:function(){return{anecdoteModel:{}}},computed:l({},Object(o.c)(["anecdotes"])),methods:l(l({},Object(o.b)("editor",["setValue"])),{},{handleInput:function(input){this.setValue(input),this.anecdoteModel=input}})},f=n(23),component=Object(f.a)(d,(function(){var t=this.$createElement,e=this._self._c||t;return e("portal",{attrs:{to:"modal"}},[e("div",{staticClass:"p-8"},[e("Select",{attrs:{options:this.anecdotes,label:"anecdote_title",value:this.anecdoteModel},on:{input:this.handleInput}}),this._v(" "),e("div",{staticClass:"flex justify-end my-4"},[e("Btn",{attrs:{label:this.$t("general.confirm"),"additional-classes":"confirm-anecdote"}})],1)],1)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Select:n(297).default,Btn:n(284).default})},308:function(t,e,n){"use strict";n.r(e);var r={},o=(n(302),n(23)),component=Object(o.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("portal",{attrs:{to:"modal"}},[e("div",{staticClass:"p-8"},[e("input-text",{attrs:{id:"pac-input",type:"text",placeholder:"Lieu - Luogo"}}),this._v(" "),e("div",{attrs:{id:"map"}}),this._v(" "),e("div",{attrs:{id:"infowindow-content"}},[e("img",{attrs:{id:"place-icon",src:"",width:"16",height:"16"}}),this._v(" "),e("span",{staticClass:"title",attrs:{id:"place-name"}}),e("br"),this._v(" "),e("span",{attrs:{id:"place-address"}})]),this._v(" "),e("div",{staticClass:"flex justify-end my-4"},[e("Btn",{attrs:{label:this.$t("general.confirm"),"additional-classes":"confirm-map-point"}})],1)],1)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{InputText:n(288).default,Btn:n(284).default})},320:function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return f}));n(19),n(31),n(82),n(17),n(46),n(47),n(32),n(39),n(61),n(18);var r=n(13),o=n(52);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function d(t,e){var data=e.data,n=e.locale,r=e.otherData,o=void 0===r?{}:r;return h[t].input(data,n,o)}function f(t,e){var data=e.data,n=e.locale,r=e.otherData,o=void 0===r?{}:r;return h[t].output(data,n,o)}var h={travel:{input:function(t,e,n){return{id:t.travel_id,published:!!t["travel_published_".concat(e)],published_date:t["travel_published_date_".concat(e)]||"",same_start_end:!!t.travel_same_start_end,title:t["travel_title_".concat(e)]||"",slug:t["travel_slug_".concat(e)]||"",category:t.travel_category?n.categories.find((function(e){return e.category_id===t.travel_category})):{},cover:t["travel_cover_".concat(e)]?n.assets.find((function(n){return n.asset_id===t["travel_cover_".concat(e)]})):null,countries:t["travel_countries_".concat(e)],dates:[t.travel_start_date,t.travel_end_date],hashtags:t.travel_hashtags||[],playlist:t["travel_playlist_".concat(e)]||"",short_desc:t["travel_desc_".concat(e)]||"",long_desc:t["travel_long_desc_".concat(e)]||[]}},output:function(t,e,n){var c,d=t.id?n.travels.find((function(e){return t.id===e.travel_id})):null;Object.keys(d).forEach((function(t){"object"===Object(o.a)(d[t])&&(d[t]=JSON.stringify(d[t]))}));var f=d||{};return f=l(l({},f),{},(c={},Object(r.a)(c,"travel_title_".concat(e),t.title),Object(r.a)(c,"travel_category",t.category.category_id),Object(r.a)(c,"travel_cover_".concat(e),t.cover?t.cover.asset_id:null),Object(r.a)(c,"travel_countries_".concat(e),JSON.stringify(t.countries)),Object(r.a)(c,"travel_slug_".concat(e),t.slug),Object(r.a)(c,"travel_desc_".concat(e),t.short_desc),Object(r.a)(c,"travel_playlist_".concat(e),t.playlist),Object(r.a)(c,"travel_long_desc_".concat(e),JSON.stringify(t.long_desc)),Object(r.a)(c,"travel_start_date",t.dates[0]),Object(r.a)(c,"travel_end_date",t.dates[1]),Object(r.a)(c,"travel_hashtags",JSON.stringify(t.hashtags)),c)),console.log("FORMATTER",t,d,f),f}},article:{input:function(article,t,e){return{id:article.article_id,published:!!article["article_published_".concat(t)],published_date:article["article_published_date_".concat(t)]||"",title:article["article_title_".concat(t)]||"",slug:article["article_slug_".concat(t)]||"",cover:article["article_cover_".concat(t)]?e.assets.find((function(e){return e.asset_id===article["article_cover_".concat(t)]})):null,place:article["article_place_".concat(t)]||"",country:{key:article["article_country_".concat(t)].toLowerCase().replace(" ","_"),label:article["article_country_".concat(t)]},travel:article.article_travel_id?e.travels.find((function(t){return t.travel_id===article.article_travel_id})):null,dates:[article.article_start_date,article.article_end_date],gallery:article["article_gallery_".concat(t)]||[],short_desc:article["article_short_desc_".concat(t)]||"",long_desc:article["article_long_desc_".concat(t)]||[]}},output:function(article,t,e){var n,c=article.id?e.articles.find((function(t){return article.id===t.article_id})):null;Object.keys(c).forEach((function(t){"object"===Object(o.a)(c[t])&&(c[t]=JSON.stringify(c[t]))}));var d=c||{};return d=l(l({},d),{},(n={},Object(r.a)(n,"article_title_".concat(t),article.title),Object(r.a)(n,"article_cover_".concat(t),article.cover?article.cover.asset_id:null),Object(r.a)(n,"article_country_".concat(t),article.country.label),Object(r.a)(n,"article_place_".concat(t),article.place),Object(r.a)(n,"article_slug_".concat(t),article.slug),Object(r.a)(n,"article_short_desc_".concat(t),article.short_desc),Object(r.a)(n,"article_long_desc_".concat(t),JSON.stringify(article.long_desc)),Object(r.a)(n,"article_gallery_".concat(t),JSON.stringify(article.gallery)),Object(r.a)(n,"article_start_date",article.dates[0]),Object(r.a)(n,"article_end_date",article.dates[1]),Object(r.a)(n,"article_travel_id",article.travel.travel_id),n)),console.log("FORMATTER",article,c,d),d}}}},321:function(t,e,n){"use strict";var r=n(296);n.n(r).a},322:function(t,e,n){(e=n(80)(!1)).push([t.i,".mx-datepicker{width:100%}.mx-input{border-width:1px;border-color:#e2e8f0}",""]),t.exports=e},326:function(t,e,n){"use strict";n.r(e);n(19),n(31),n(17),n(46),n(47),n(32),n(18);var r=n(13),o=n(283),c=n(26);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var f={props:{id:o.a.string.def(""),label:o.a.string.def("Choose an image"),image:o.a.object.def(null),assets:o.a.array.def([])},data:function(){return{imageModel:null,realId:Math.floor(1e4*Math.random())}},computed:d({},Object(c.c)("modal",["visible","modalId"])),mounted:function(){this.image&&(this.imageModel=this.image),this.id&&(this.realId=this.id)},methods:d(d({},Object(c.b)("modal",["setVisible","setModalId"])),{},{openModal:function(){this.setVisible(!0),this.setModalId("pick-image-".concat(this.id))},confirmImage:function(image){this.imageModel=image,this.$emit("change",image)}})},h=n(23),component=Object(h.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.label?n("h4",{staticClass:"label font-bold my-4"},[n("span",{staticClass:"bg-white z-10 pr-6"},[t._v(t._s(t.label))])]):t._e(),t._v(" "),n("div",[t.imageModel?n("div",{staticClass:"justify-self-center"},[n("img",{staticClass:"h-56",attrs:{src:t.imageModel.asset_src}})]):t._e(),t._v(" "),n("div",{staticClass:"flex justify-end w-full"},[n("Btn",{attrs:{"icon-btn":"",icon:t.image?"pencil":"plus"},on:{click:t.openModal}})],1),t._v(" "),t.modalId==="pick-image-"+t.id?n("AssetsModal",{attrs:{assets:t.assets,picked:t.imageModel},on:{confirm:t.confirmImage}}):t._e()],1)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Btn:n(284).default,AssetsModal:n(294).default})},327:function(t,e,n){"use strict";n.r(e);var r=n(283),o=n(324),c=(n(333),n(334),{components:{DatePicker:o.default},props:{label:r.a.string.def(null),model:r.a.array.def(null),placeholder:r.a.string.def(null)},data:function(){return{dateModel:[new Date,new Date]}},watch:{dateModel:function(t,e){t!==e&&this.$emit("change",t)}},mounted:function(){this.model&&(this.dateModel=this.model)}}),l=(n(321),n(23)),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.label?n("h4",{staticClass:"label font-bold my-4"},[n("span",{staticClass:"bg-white z-10 pr-6"},[t._v(t._s(t.label))])]):t._e(),t._v(" "),n("date-picker",{attrs:{type:"date",range:"",placeholder:t.placeholder,"value-type":"timestamp"},model:{value:t.dateModel,callback:function(e){t.dateModel=e},expression:"dateModel"}})],1)}),[],!1,null,null,null);e.default=component.exports},328:function(t,e,n){"use strict";n.r(e);var r=n(283),o={props:{isNew:r.a.bool.def(!1),isPublished:r.a.bool.def(!1)}},c=n(23),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex justify-center items-center"},[n("div",{staticClass:"flex flex-col items-end w-2/3"},[n("div",{staticClass:"flex mt-8 mb-24"},[n("Btn",{attrs:{"icon-btn":"",label:t.$t("general.save"),icon:"floppy-disk"},on:{click:function(e){return t.$emit("save")}}}),t._v(" "),n("Btn",{attrs:{"icon-btn":"",label:t.$t("general.publish"),icon:"rocket"},on:{click:function(e){return t.$emit("publish")}}}),t._v(" "),t.isNew?t._e():n("Btn",{attrs:{"icon-btn":"",label:t.$t("general.remove"),icon:"bin"},on:{click:function(e){return t.$emit("remove")}}}),t._v(" "),t.isPublished?n("Btn",{attrs:{"icon-btn":"",type:"error",label:t.$t("general.unpublish"),icon:"fire"},on:{click:function(e){return t.$emit("unpublish")}}}):t._e()],1),t._v(" "),t._t("default"),t._v(" "),n("div",{staticClass:"flex mt-24 mb-8"},[n("Btn",{attrs:{"icon-btn":"",label:t.$t("general.save"),icon:"floppy-disk"},on:{click:function(e){return t.$emit("save")}}}),t._v(" "),n("Btn",{attrs:{"icon-btn":"",label:t.$t("general.publish"),icon:"rocket"},on:{click:function(e){return t.$emit("publish")}}}),t._v(" "),t.isNew?t._e():n("Btn",{attrs:{"icon-btn":"",label:t.$t("general.remove"),icon:"bin"},on:{click:function(e){return t.$emit("remove")}}}),t._v(" "),t.isPublished?n("Btn",{attrs:{"icon-btn":"",type:"error",label:t.$t("general.unpublish"),icon:"fire"},on:{click:function(e){return t.$emit("unpublish")}}}):t._e()],1)],2)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Btn:n(284).default})},357:function(t,e,n){"use strict";n.r(e);n(19),n(31),n(17),n(46),n(47),n(32),n(18),n(27);var r=n(4),o=n(13),c=n(283),l=n(26),d=n(320);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function h(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m={props:{assets:c.a.array.def([]),travels:c.a.array.def([]),categories:c.a.array.def([])},data:function(){return{isNew:!0,isPublished:!1,mounted:!1,model:{id:"",published:!1,published_date:"",title:"",category:{},cover:null,countries:[],dates:[],hashtags:"",playlist:"",slug:"",short_desc:"",long_desc:""}}},computed:h(h({},Object(l.c)("modal",["visible","modalId"])),{},{locale:function(){return this.$i18n.locale}}),mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,data,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isNew="new"===t.$route.params.id,t.isNew){e.next=16;break}return e.prev=2,e.next=5,t.$axios.get("/api/travels/".concat(t.$route.params.id));case 5:n=e.sent,(data=n.data)?(r=Object(d.a)("travel",{data:data[0],locale:t.locale,otherData:{travels:t.travels,assets:t.assets,categories:t.categories}}),t.model=r,t.isPublished=t.model.published,t.mounted=!0):t.mounted=!0,e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.warn(e.t0),t.$router.push("/travels");case 14:e.next=17;break;case 16:t.mounted=!0;case 17:case"end":return e.stop()}}),e,null,[[2,10]])})))()},methods:h(h({},Object(l.b)("modal",["setVisible","setModalId"])),{},{reloadData:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,data,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.mounted=!1,e.prev=1,e.next=4,t.$axios.get("/api/travels/".concat(t.$route.params.id));case 4:n=e.sent,(data=n.data)?(r=Object(d.a)("travel",{data:data[0],locale:t.locale,otherData:{travels:t.travels,assets:t.assets,categories:t.categories}}),t.model=r,t.isPublished=t.model.published,t.mounted=!0):t.$router.push("/travels"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.warn(e.t0),t.$router.push("/travels");case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))()},saveTravel:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.model.long_desc=this.$refs.longDescription.getBlocks();var e=Object(d.b)("travel",{data:this.model,otherData:{travels:this.travels,articles:this.articles,assets:this.assets},locale:this.locale});e.travel_id?("publish"===t&&(e["travel_published_".concat(this.locale)]=1,e["travel_published_date_".concat(this.locale)]=Date.parse(new Date)),"unpublish"===t&&(e["travel_published_".concat(this.locale)]=0,e["travel_published_date_".concat(this.locale)]=null),this.updateTravel(e,t)):this.createTravel(e)},createTravel:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,data;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$axios.post("/api/travels",t);case 3:r=n.sent,data=r.data,e.$toast.success(e.$t("travel.save.success")),e.$router.push("/travels/".concat(data[0].travel_id)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),e.$toast.error(e.$t("travel.save.error"));case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))()},updateTravel:function(t,e){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,n.$axios.put("/api/travels/".concat(t.travel_id),t);case 3:"publish"===e?n.publishTravel(t):"unpublish"===e?n.unpublishTravel(t.travel_id):n.$toast.success(n.$t("travel.update.success")),r.next=10;break;case 6:r.prev=6,r.t0=r.catch(0),console.log(r.t0),n.$toast.error(n.$t("travel.update.error"));case 10:return r.prev=10,n.reloadData(),r.finish(10);case 13:case"end":return r.stop()}}),r,null,[[0,6,10,13]])})))()},publishTravel:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$axios.post("/api/travels/published/".concat(t.travel_id),t);case 3:e.$toast.success(e.$t("travel.published.success")),n.next=10;break;case 6:n.prev=6,n.t0=n.catch(0),console.warn(n.t0),e.$toast.error(e.$t("travel.published.error"));case 10:case"end":return n.stop()}}),n,null,[[0,6]])})))()},unpublishTravel:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$axios.delete("/api/travels/published/".concat(t));case 3:e.$toast.success(e.$t("travel.unpublished.success")),n.next=10;break;case 6:n.prev=6,n.t0=n.catch(0),console.warn(n.t0),e.$toast.error(e.$t("travel.unpublished.error"));case 10:case"end":return n.stop()}}),n,null,[[0,6]])})))()},removeTravel:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.delete("/api/travels/".concat(t.model.id));case 3:t.$toast.success(t.$t("travel.remove.success")),t.closeRemoveModal(),t.$router.push("/travels"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.warn(e.t0),t.$toast.error(t.$t("travel.remove.error"));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()},openRemoveModal:function(){this.setVisible(!0),this.setModalId("remove-travel")},closeRemoveModal:function(){this.setVisible(!1),this.setModalId(null)}})},v=n(23),component=Object(v.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("EntityActions",{attrs:{"is-new":t.isNew,"is-published":t.isPublished},on:{save:t.saveTravel,publish:function(e){return t.saveTravel("publish")},unpublish:function(e){return t.saveTravel("unpublish")},remove:t.openRemoveModal}},[t.mounted?n("form",[n("InputText",{attrs:{label:t.$t("travel.title")},model:{value:t.model.title,callback:function(e){t.$set(t.model,"title",e)},expression:"model.title"}}),t._v(" "),t.categories?n("Select",{attrs:{label:t.$t("travel.category"),options:t.categories,"option-label":"category_label_"+t.locale},model:{value:t.model.category,callback:function(e){t.$set(t.model,"category",e)},expression:"model.category"}}):t._e(),t._v(" "),n("ChooseImage",{attrs:{image:t.model.cover,assets:t.assets,label:t.$t("travel.cover")},on:{change:function(e){t.model.cover=e}}}),t._v(" "),n("InputTags",{attrs:{label:t.$t("travel.countries"),value:t.model.countries},on:{change:function(e){t.model.countries=e}}}),t._v(" "),n("Datepicker",{attrs:{label:t.$t("travel.dates"),model:t.model.dates},on:{change:function(e){t.model.dates=e}}}),t._v(" "),n("InputTags",{attrs:{label:t.$t("travel.hashtags"),value:t.model.hashtags},on:{change:function(e){t.model.hashtags=e}}}),t._v(" "),n("InputText",{attrs:{label:t.$t("travel.playlist")},model:{value:t.model.playlist,callback:function(e){t.$set(t.model,"playlist",e)},expression:"model.playlist"}}),t._v(" "),n("InputText",{attrs:{label:t.$t("travel.slug")},model:{value:t.model.slug,callback:function(e){t.$set(t.model,"slug",e)},expression:"model.slug"}}),t._v(" "),n("Textarea",{attrs:{label:t.$t("travel.short_desc")},model:{value:t.model.short_desc,callback:function(e){t.$set(t.model,"short_desc",e)},expression:"model.short_desc"}}),t._v(" "),n("BlockEditor",{ref:"longDescription",attrs:{label:t.$t("travel.long_desc"),addons:["map-description"],blocks:t.model.long_desc,assets:t.assets}})],1):t._e()]),t._v(" "),"remove-travel"===t.modalId?n("RemoveModal",{on:{confirm:t.removeTravel,cancel:t.closeRemoveModal}}):t._e()],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{InputText:n(288).default,Select:n(297).default,ChooseImage:n(326).default,InputTags:n(360).default,Datepicker:n(327).default,Textarea:n(310).default,BlockEditor:n(305).default,EntityActions:n(328).default,RemoveModal:n(292).default})},360:function(t,e,n){"use strict";n.r(e);n(31);var r=n(283),o={props:{value:r.a.array.def([]),label:r.a.string.def(null),options:r.a.array.def([])},data:function(){return{inputModel:"",tags:[]}},mounted:function(){this.value&&(this.tags=this.value)},methods:{addTag:function(){this.tags.push(this.inputModel),this.inputModel="",this.$emit("change",this.tags)},removeTag:function(t){this.tags=this.tags.filter((function(e){return e!==t})),this.$emit("change",this.tags)}}},c=n(23),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.label?n("h4",{staticClass:"label font-bold my-4"},[n("span",{staticClass:"bg-white z-10 pr-6"},[t._v(t._s(t.label))])]):t._e(),t._v(" "),n("div",{staticClass:"flex flex-wrap"},t._l(t.tags,(function(e){return n("Tag",{key:e,staticClass:"mr-2 my-2",attrs:{tag:e,deletable:""},on:{remove:t.removeTag}})})),1),t._v(" "),n("div",{staticClass:"relative"},[n("InputText",{on:{enter:t.addTag},model:{value:t.inputModel,callback:function(e){t.inputModel=e},expression:"inputModel"}}),t._v(" "),n("div",{staticClass:"cursor-pointer text-white absolute right-0 top-0 h-full w-12 bg-gray-600 flex justify-center items-center",on:{click:t.addTag}},[n("Icon",{attrs:{name:"plus"}})],1)],1)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Tag:n(361).default,InputText:n(288).default,Icon:n(286).default})},361:function(t,e,n){"use strict";n.r(e);var r=n(283),o={props:{deletable:r.a.bool.def(!1),tag:r.a.string.def("")},computed:{color:function(){var t=["gray","indigo","red","orange","yellow","green","teal","blue","purple","pink"];return"bg-".concat(t[Math.floor(Math.random()*(t.length-1))],"-500")}}},c=n(23),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:[t.color,"text-white text-xs rounded-md px-2 py-1"]},[n("span",[t._v(t._s(t.tag?"#"+t.tag:"# No place"))]),t._v(" "),t.deletable?n("span",{staticClass:"cursor-pointer font-bold",on:{click:function(e){return t.$emit("remove",t.tag)}}},[t._v("x")]):t._e()])}),[],!1,null,null,null);e.default=component.exports},369:function(t,e,n){"use strict";n.r(e);n(14),n(33),n(34);var r=n(11),o=(n(27),n(4)),c={asyncData:function(t){return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,c,l,d,f,h,m,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$axios,o=[],c=[],l=[],e.prev=4,e.next=7,Promise.all([n.get("/api/assets"),n.get("/api/travels"),n.get("/api/categories")]);case 7:d=e.sent,f=Object(r.a)(d,3),h=f[0],m=f[1],v=f[2],o=h.data,c=m.data,l=v.data,e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),console.log(e.t0);case 20:return e.abrupt("return",{assets:o,travels:c,categories:l});case 21:case"end":return e.stop()}}),e,null,[[4,17]])})))()}},l=n(23),component=Object(l.a)(c,(function(){var t=this.$createElement;return(this._self._c||t)("TravelForm",{attrs:{assets:this.assets,travels:this.travels,categories:this.categories}})}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{TravelForm:n(357).default})}}]);